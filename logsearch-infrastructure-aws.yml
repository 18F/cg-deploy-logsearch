meta:
  aws:
    availability_zone: ~
  stemcell:
    name: bosh-aws-xen-hvm-ubuntu-trusty-go_agent
    version: latest

compilation:
  cloud_properties:
    availability_zone: (( grab meta.aws.availability_zone ))
    instance_type: c3.xlarge

resource_pools:
- name: elasticsearch_master
  cloud_properties:
    availability_zone: (( grab meta.aws.availability_zone ))
    instance_type: t2.xlarge

- name: elasticsearch_data
  cloud_properties:
    availability_zone: (( grab meta.aws.availability_zone ))
    instance_type: m3.xlarge

- name: queue
  cloud_properties:
    availability_zone: (( grab meta.aws.availability_zone ))
    instance_type: t2.large

- name: ingestor
  cloud_properties:
    availability_zone: (( grab meta.aws.availability_zone ))
    instance_type: t2.medium
    iam_instance_profile: logsearch-ingestor

- name: parser
  cloud_properties:
    availability_zone: (( grab meta.aws.availability_zone ))
    instance_type: c4.xlarge

- name: kibana
  cloud_properties:
    availability_zone: (( grab meta.aws.availability_zone ))
    instance_type: t2.medium

- name: maintenance
  cloud_properties:
    availability_zone: (( grab meta.aws.availability_zone ))
    instance_type: t2.medium

- name: cluster_monitor
  cloud_properties:
    availability_zone: (( grab meta.aws.availability_zone ))
    instance_type: m3.xlarge
    iam_instance_profile: logsearch-ingestor

- name: haproxy
  cloud_properties:
    availability_zone: (( grab meta.aws.availability_zone ))
    instance_type: t2.medium

- name: errand
  cloud_properties:
    availability_zone: (( grab meta.aws.availability_zone ))
    instance_type: t2.medium

disk_pools:
- name: elasticsearch_master
  cloud_properties:
    type: gp2

- name: elasticsearch_data
  cloud_properties:
    type: gp2

- name: queue
  cloud_properties:
    type: gp2

- name: cluster_monitor
  cloud_properties:
    type: gp2
